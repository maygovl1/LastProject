<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@ taglib uri="http://www.springframework.org/tags/form" prefix="form"%>
<%@ taglib uri="http://www.springframework.org/tags" prefix="spring"%>

<!-- form  -->
<form id="searchForm">
	<input type="hidden" name="page">  
	<input type="hidden" name="simpleCondition.searchType" value="${paging.simpleCondition.searchType }">
	<input type="hidden" name="simpleCondition.searchWord" value="${paging.simpleCondition.searchWord }">
</form>
<!-- form  -->

<!-- searchBar -->
<div data-pg-role="searchUI" data-pg-target="#searchForm"
	class="searchBox d-flex justify-content-end">

	 <select class="me-1" name="simpleCondition.searchType" >
		<option value="" label="전체" />
		<option value="title" label="제목" />
		<option value="name" label="작성자" />
	</select>

	<div class="fieldset flex">
		<input class="me-1" type="text" name="simpleCondition.searchWord"
			data-pg-init-value="${paging.simpleCondition.searchWord }"
			title="검색어를 입력해주세요" value="${paging.simpleCondition.searchWord }"
			placeholder="검색어 입력" />
		<button type="button" class="btn btn-primary" data-pg-role="searchBtn">검색</button>
	</div>
</div>
<!-- searchBar -->
 
<!-- ui : table s -->
<table class="table text-center">
	<caption class="sr-only">나눔 목록 테이블입니다.</caption>

	<colgroup>
		<col style="width: 10%">
		<col style="width: 10%">
		<col style="width: auto;">
		<col style="width: 10%;">
		<col style="width: 10%;">
		<col style="width: 10%;">
		<col style="width: 10%;">
	</colgroup>

	<thead>
		<tr>
			<th scope="col"></th>
			<th scope="col">번호</th>
			<th scope="col">제목</th>
			<th scope="col">작성자</th>
			<th scope="col">답변상태</th>
			<th scope="col">등록일자</th>
			<th scope="col">조회수</th>

		</tr>
	</thead>
<c:forEach items="${qnaList }" var="ql">
	<tbody>
		<!-- 일반 -->
		<tr>
			<td>
	            <c:set var="a" value="" />
			    <c:forEach items="${bkList}" var="bk">
			        <c:if test="${bk.bpId eq ql.bpId}">
			            <c:set var="a" value="active" />
			        </c:if>
			    </c:forEach>
			    <button class="kinBtn border-0 boardBookmark ${a}"
			            data-mark-id="${ql.bpId}">
			        <i class="icon kin"></i><i class="sr-only">즐겨찾기버튼</i>
			    </button>
			</td>
			<th scope="row">${ql.rnum }</th>
			<td class="text-start">
				<!-- 새글일 때 new 클래스 추가 --> <a href="${pageContext.request.contextPath }/board/qna/${ql.bpId}" class="text-link d-flex new">
					<!-- icon new_icon 추가 --> <span class="icon new_icon"> <span
						class="sr-only">new</span>
				</span> <em class="text-elipsis">${ql.bpTitle }</em>
			</a>
			</td>
			<td>${ql.empName }</td>
			<td><span class="category share">${ql.qnaName }</span></td>
			<td>${ql.bpRegDtStr }</td>
			<td>${ql.bpCnt }</td>
		</tr>
		<!-- 일반 -->
	</tbody>
</c:forEach>
</table>

<div class="btn-box clearfix mt-4">
	<div class="right float-end">
		<a href="${pageContext.request.contextPath }/board/qna/add"><button class="btn btn-primary">등록</button></a>
	</div>
</div>
<!-- 버튼 알아서 퍼가셈 -->
<!-- ui : table e -->

<!-- pagenation -->
${pagingHTML }
<script src="<c:url value='/resources/js/common/paging.js'/>">
</script>
<script src="<c:url value='/resources/mypage/js/bookmark.js'/>"></script>
<!-- pagenation -->

