package kr.or.navi.quick.translation.controller;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.ResponseBody;

import kr.or.navi.quick.translation.vo.TransVO;
import kr.or.navi.util.HttpUtil;
import lombok.extern.slf4j.Slf4j;


@Slf4j
@Controller
@RequestMapping("/papago.do")
public class PapagoRestController {
	static {
		List<TransVO> list = new ArrayList<TransVO>();
	}
	
	@GetMapping
	@ResponseBody
    public HashMap<String, Object> callAPI(String source, String target, String text){
		String clientId = "lIE7rQzAECSfh4I7Yced";//애플리케이션 클라이언트 아이디값";
        String clientSecret = "sGNgb7YYEA";//애플리케이션 클라이언트 시크릿값";
        String apiURL = "https://openapi.naver.com/v1/papago/n2mt";
        String checkURL = "https://openapi.naver.com/v1/papago/detectLangs";
		HashMap<String, Object> build = new HttpUtil()
				.header("X-Naver-Client-Id", clientId)
				.header("X-Naver-Client-Secret", clientSecret)
				.body("source",source)
				.body("target",target)
				.body("text",text)
				.method("POST")
				.url(apiURL)
				.build();
		return build;
	}
}
